package GUI;

import java.awt.EventQueue;

import javax.swing.JFrame;
import javax.swing.SpringLayout;
import javax.swing.JPanel;
import javax.swing.JScrollPane;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;
import java.awt.event.MouseAdapter;
import java.awt.event.MouseEvent;
import java.awt.GridLayout;
import javax.swing.JTextField;
import javax.swing.JButton;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;

public class ex01_jtable {

	private JFrame frame;
	private JTable table;
	private JTextField txt_iot;
	private JTextField txt_web;
	private JButton addBtn;
	private JButton removeBtn;
	private JTextField txt_java;
	private JTextField txt_name;
	private DefaultTableModel t_model; // JTable의 데이터를 GUI에서 데이터를 추가하거나 삭제하는 기능

	public static void main(String[] args) {
		EventQueue.invokeLater(new Runnable() {
			public void run() {
				try {
					ex01_jtable window = new ex01_jtable();
					window.frame.setVisible(true);             //창을 열어서 보여주겠다
				} catch (Exception e) {
					e.printStackTrace();
				}
			}
		});
	}

	public ex01_jtable() {
		initialize();
	}

	private void initialize() {
		frame = new JFrame();
		frame.setTitle("Jtable 예제");
		frame.setBounds(100, 100, 650, 400);//X축,  Y축,  너비(width), 높이(height)
		frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
		SpringLayout springLayout = new SpringLayout();
		frame.getContentPane().setLayout(springLayout);
		
		JPanel panel = new JPanel();
		springLayout.putConstraint(SpringLayout.NORTH, panel, 10, SpringLayout.NORTH, frame.getContentPane());
		springLayout.putConstraint(SpringLayout.WEST, panel, 10, SpringLayout.WEST, frame.getContentPane());
		springLayout.putConstraint(SpringLayout.SOUTH, panel, 298, SpringLayout.NORTH, frame.getContentPane());
		springLayout.putConstraint(SpringLayout.EAST, panel, 624, SpringLayout.WEST, frame.getContentPane());
		frame.getContentPane().add(panel);
		
		JPanel panel_1 = new JPanel();
		springLayout.putConstraint(SpringLayout.NORTH, panel_1, 6, SpringLayout.SOUTH, panel);
		springLayout.putConstraint(SpringLayout.WEST, panel_1, 0, SpringLayout.WEST, panel);
		springLayout.putConstraint(SpringLayout.SOUTH, panel_1, -10, SpringLayout.SOUTH, frame.getContentPane());
		springLayout.putConstraint(SpringLayout.EAST, panel_1, 0, SpringLayout.EAST, panel);
		SpringLayout sl_panel = new SpringLayout();
		panel.setLayout(sl_panel);
		
		JScrollPane scrollPane = new JScrollPane();
		sl_panel.putConstraint(SpringLayout.NORTH, scrollPane, 10, SpringLayout.NORTH, panel);
		sl_panel.putConstraint(SpringLayout.WEST, scrollPane, 10, SpringLayout.WEST, panel);
		sl_panel.putConstraint(SpringLayout.SOUTH, scrollPane, 278, SpringLayout.NORTH, panel);
		sl_panel.putConstraint(SpringLayout.EAST, scrollPane, 604, SpringLayout.WEST, panel);
		panel.add(scrollPane);
		
		//Jtable 데이터초기화
		//컬럼명은 1차원 배열, 행 데이터는 2차원 배열로 구성
		String[] colNames= {"이름","java","iot","web"};
		String[][] rowDatas= {
				{"윤주영","80","65","72"},
				{"채평성","97","55","76"},
				{"김경태","95","50","98"}
				
				
		};
		
		table = new JTable(rowDatas, colNames); //데이터를 테이블쪽에 넘겨준다
		table.addMouseListener(new MouseAdapter() {
			@Override
			public void mouseClicked(MouseEvent e) {
				//마우스로 테이블을 클릭했을 때 실행할 로직을 작성
				
				int row = table.getSelectedRow();
				int col=table.getSelectedColumn();
				String data=table.getValueAt(row,col).toString(); //위치값을 문자열로 출력
				
				System.out.println("선택한 항목의 위치>> "+row+","+col); 
				System.out.println("선택한 항목>> "+data); 
		
				
			}
		});
		
		scrollPane.setViewportView(table);
		frame.getContentPane().add(panel_1);
		panel_1.setLayout(new GridLayout(1, 6, 0, 0));
		
		txt_name = new JTextField();
		panel_1.add(txt_name);
		txt_name.setColumns(10);
		
		txt_java = new JTextField();
		panel_1.add(txt_java);
		txt_java.setColumns(10);
		
		txt_iot = new JTextField();
		panel_1.add(txt_iot);
		txt_iot.setColumns(10);
		
		txt_web = new JTextField();
		panel_1.add(txt_web);
		txt_web.setColumns(10);
		
		addBtn = new JButton("\uCD94\uAC00");
		addBtn.addMouseListener(new MouseAdapter() {
			@Override
			public void mouseClicked(MouseEvent e) {
				//추가버튼 클릭시 Jtable에 행 데이터 추가
				//--> 먼저 사용자가 입력한 4개의 정보를 가져오기
				String name=txt_name.getText();
				String java=txt_java.getText();
				String iot=txt_iot.getText();
				String web=txt_web.getText();
				
				//4개의 정보를 콘솔차엥 출력하시오.
				System.out.println(name+","+java+","+iot+","+web);  
				table.add
			}
		});
		panel_1.add(addBtn);
		
		removeBtn = new JButton("\uC0AD\uC81C");
		panel_1.add(removeBtn);
	}
}
